//going to build both boards after user initializes ship placement


//build game board
const buildPlayerBoards = (callBack,computerBoard,userGameboard) => {
    const main_container = document.getElementById('content-container');
    main_container.innerHTML = ''
    const userBoard = document.createElement('div')
    const enemyBoard = document.createElement('div');
    enemyBoard.id = 'enemy_board'
    enemyBoard.classList.add('grid','grid-cols-10','w-3/5','h-96')//enemyboard tw style
    userBoard.id = 'user_board'
    userBoard.classList.add('grid','grid-cols-10','w-3/5','h-96')// user board TW

    
    for (let i = 0; i < 100; i++) {
        const computerTarget = document.createElement('div')
        computerTarget.classList.add('border','border-black','targets')
        computerTarget.style.backgroundColor = 'blue'
        computerTarget.dataset.cord = `${i}`
        enemyBoard.appendChild(computerTarget);
        computerTarget.addEventListener('click',callBack);
        
        const userTarget = document.createElement('div');
        userTarget.classList.add('border','border-black','user-targets');
        userTarget.style.backgroundColor = 'blue'
        userTarget.dataset.cord = `${i}`
        userTarget.innerText = userGameboard[i]
        userBoard.appendChild(userTarget)
        

    }
    main_container.append(userBoard,enemyBoard);
    setAttrbiutes(computerBoard)
};
//come back to this, make it render both boards at once
const renderComputerBoard = (computer,user) => {
    const nodes = document.querySelectorAll('.targets');
    const user_nodes = document.querySelectorAll('.user-targets')
    const nodeObjArray = [
        [computer,nodes],
        [user,user_nodes]
    ]
    
    console.log(nodeObjArray[1][1])
    
    for (let i = 0; i < nodeObjArray.length; i++) {
        let board = nodeObjArray[i][0]
        let nodes = nodeObjArray[i][1]
        for (let i = 0; i < nodes.length; i++){
            if(board[i] === 0){
                nodes[i].style.backgroundColor = 'blue'
    
            } else if (board[i] === 1){
                nodes[i].style.backgroundColor = 'green'
            } else if(board[i] === 'X' ){
                nodes[i].style.backgroundColor ='red'
            } else {
                nodes[i].style.backgroundColor = 'blue'
            }     
        }
    }
}


const renderPlacementBoard = () => {

}

function setAttrbiutes(gameboard){
    
    const nodeList = document.querySelectorAll('.targets')
    nodeList.forEach((target,index) => {
        target.dataset.status = gameboard[index]
        //target.innerText = gameboard[index]
    })
    
    
    
};

export { buildPlayerBoards,renderComputerBoard }